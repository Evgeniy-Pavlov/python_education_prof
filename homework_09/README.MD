#Задание MemcLoad

## В задании необходимо было переработать файл memc_load.py для работы в несколько процессов или потоков (или используя и то и то).

- Перед запуском скрипта необходимо будет установить библиотеки memcache и appsinstalled_pb2, т.к. они не входят в стандартную библиотеку.
- Для запуска тестов необходимо будет установить pytest.
- Все вышеописанные зависимости есть в файле requirements.txt

## Ниже приведен пример команды запуска скрипта.
```shell
python homework_09/memc_load.py --pattern homework_09/data/appsinstalled/20170929000300.tsv.gz --workers 4
```

### Скрипт содержит в себе следующие аргменты для запуска
- Ключ -t служит для запуска в тестовом режиме. По умолчанию False.
- Ключ -l служит для указания названия файла, куда будут писаться логи. По умолчанию None, то есть вывод логов будет осуществляться в stdout.
- Ключ --dry определяет уровень логирования. Если он задан, то используется уровень INFO, в ином случае DEBUG. По умолчанию False.
- Ключ --pattern определяет путь к папке с файлами или конкретным файлом для обработки. Для передачи нескольких файлов, необходимо заменить название файла на *. По умолчанию ./data/appsinstalled/*.tsv.gz
- Ключи --idfa, --gaid, --adid, --dvid служат для указания порта и адреса куда мемкэш куда направлять информацию об результате обработки строки в соответствии с указанным типом.
 Для --idfa по умолчанию 127.0.0.1:33013.
 Для --gaid по умолчанию 127.0.0.1:33014.
 Для --adid по умолчанию 127.0.0.1:33015.
 Для --dvid по умолчанию 127.0.0.1:33016.
- Ключ --workers Определяет количество процессов которые будут одновременно запущены для обработки файлов. По умолчанию 2.

### Пример запуска скрипта.
```shell
(myvenv) PS C:\Users\Evgeniy\python_education_prof\homework_09> python memc_load.py
[2023.12.10 22:03:49] I Memc loader started with options: {'test': False, 'log': None, 'dry': False, 'pattern': './data/appsinstalled/*.tsv.gz', 'idfa': '127.0.0.1:33013', 'gaid': '127.0.0.1:33014', 'adid': '127.0.0.1:33015', 'dvid': '127.0.0.1:33016', 'workers': 2}
(myvenv) PS C:\Users\Evgeniy\python_education_prof\homework_09> 
```
### Пример запуска тестов
```shell
(myvenv) PS C:\Users\Evgeniy\python_education_prof\homework_09> pytest test.py
===================================================================================================== test session starts ======================================================================================================
platform win32 -- Python 3.9.4, pytest-7.4.2, pluggy-1.3.0
rootdir: C:\Users\Evgeniy\python_education_prof\homework_09
plugins: anyio-4.1.0, xdist-3.3.1
collected 11 items

test.py ...........                                                                                                                                                                                                       [100%]

====================================================================================================== 11 passed in 0.09s ====================================================================================================== 
(myvenv) PS C:\Users\Evgeniy\python_education_prof\homework_09> 
```