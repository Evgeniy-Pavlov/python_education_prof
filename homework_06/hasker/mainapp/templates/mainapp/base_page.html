{% extends "base.html" %}
{% load static %}
{% block body %}
{% load rated_tags %}

<div class="container-xxl">
    <div class="row">
      <div class="col">

        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-new-tab" data-bs-toggle="pill" data-bs-target="#pills-new" type="button" role="tab" aria-controls="pills-new" aria-selected="true">New question</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="pills-hot-tab" data-bs-toggle="pill" data-bs-target="#pills-hot" type="button" role="tab" aria-controls="pills-hot" aria-selected="false">Hot question</button>
          </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">

          <div class="tab-pane fade show active" id="pills-new" role="tabpanel" aria-labelledby="pills-new-tab">
            <div>
              {% for question in object_list reversed %}
              {% question_counter_rated as counter %}
            <div class="container border-bottom border-4 border-dark">
                <div class="row" style="padding: 5px;">
                <div class="col">
                    <div class="container">
                        <div class="row">
                          <div class="col">
                            <p>{{counter}}</p>
                            <p>Votes</p>
                          </div>
                          <div class="col">
                            <p>{{question.reply_set.all.count}}</p>
                            <p>Answers</p>
                          </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <a href="/question/{{question.id}}"><div class="h4">{{question.header}}</div></a>
                </div>
                <div class="col">
                    {% if not question.user_create.logo %}
                    <p><img src="{% static 'img/not_image_profile.jpg' %}" width="50" height="45">{{question.user_create}}</p>
                    {% endif %}
                    {% if question.user_create.logo %}
                    <p><img src="{{question.user_create.logo.url}}" width="50" height="45">{{question.user_create}}</p>
                    {% endif %}
                    
                    <p>asked {{question.date_create}}</p>
                </div>
                </div>
            </div>
            {% endfor %}
          </div>
          </div>
        
        <div class="tab-pane fade" id="pills-hot" role="tabpanel" aria-labelledby="pills-hot-tab">Hot question</div>

        </div>
    </div>


      <div class="col col-6 col-md-4">
        
            {% question_treding as q_treding %}
            <div class="container">
              <div class="row">
                <div class="col">
                  <a href="/ask" class="btn btn-secondary btn-lg" style="margin-bottom: 10px;">Ask!</a>
                </div>
              </div>
              <p class="h4">Treding</p>
            {% for q_tred in q_treding %}
            <div class="row">
                <div class="col-2">
                  <p class="btn btn-primary">{{q_tred.rating}}</p>
                </div>
                <div class="col-8">
                  <a href="/question/{{q_tred.question_rated_id}}">{{q_tred.question_rated_id__header}}</a>
                </div>
            </div>
            {% endfor %}
            </div>
      </div>
    </div>
  
{% endblock %}